# Prompt to Claude Opus 4.5 via Omnara Orchestrator

- NOTE: this report was generated by Claude Opus 4.5. See: <./00-prompt.md>.
- nixpkgs: nixos-26.05pre928726.e4bae1bd10c9
- date: 2026-01-31

---

Research and compile a comprehensive report on how nixpkgs structures their nix
code for hydra CI evaluation and build.

- We are trying to determine what they eval to construct the attrset of
  derivations to build, the helper functions and nixpkgs idioms used to
  construct the attrset, how the collection handles nixpkgs idioms like
  passthru.tests, how the eval handles filtering out packages for unsupported
  platforms or failing evals, how the structure of the resulting attrset looks
  after eval, and broadly how this interfaces with hydra CI.
- The report should contain accurate citations and quoted code snippets to
  justify any claims. Point to files relative to the nixpkgs repo root.
- Do not stop until we have completely understood and comprehensively answered
  the research question.
- Ultrathink
- Compile our research results into a series of markdown documents in
  doc/nixpkgs-ci/*.md

nixpkgs source tree: /nix/store/5gs5kzcpavjvm25896hp7frik1zzj73c-source

- I believe pkgs/top-level/release.nix is the entrypoint (though I am not
  sure).
